<!--
실습 문제
1) 폼 입력 2개로 사칙연산 결과 4칸 출력
2) 숫자 2개를 입력받아 덧셈/뺄셈/곱셈/나눗셈 결과를 각각 4개의 출력 폼(input)에 표시한다.
3) 버튼은 [계산], [리셋] 두 개만 사용한다.
  - 리셋은 입력값/결과값을 모두 초기화한다.
4)예외 처리 (옵션)
- 숫자가 아니면: 결과 4칸 모두 ERROR 표시
- 나눗셈에서 b가 0이면: div 결과만 DIV/0 표시(나머지 3개는 정상 계산)
-->
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>사칙연산 폼 실습</title>
</head>
<body>
  <h2>실습: 사칙연산 계산기</h2>

  <form id="calcForm">
    <div>
      <label>A: <input id="a" type="text" autocomplete="off"></label>
      <label>B: <input id="b" type="text" autocomplete="off"></label>
    </div>

    <div style="margin-top:10px;">
      <button type="button" id="btnCalc">계산</button>
      <button type="button" id="btnReset">리셋</button>
    </div>

    <hr>

    <div>
      <label>+</label>
      <input id="outAdd" type="text" readonly>
    </div>
    <div>
      <label>-</label>
      <input id="outSub" type="text" readonly>
    </div>
    <div>
      <label>*</label>
      <input id="outMul" type="text" readonly>
    </div>
    <div>
      <label>/</label>
      <input id="outDiv" type="text" readonly>
    </div>
  </form>

  <script>
    // =========================
    // TODO 1) 필요한 DOM 요소 가져오기
    // =========================
    // 입력값
    const a = document.getElementById("a");
    const b = document.getElementById("b");

    // 버튼
    const btnCalc = document.getElementById("btnCalc");
    const btnReset = document.getElementById("btnReset");

    // 출력
    const outAdd = document.getElementById("outAdd");
    const outSub = document.getElementById("outSub");
    const outMul = document.getElementById("outMul");
    const outDiv = document.getElementById("outDiv");

    // 한 번에 에러 처리를 하거나, 초기화할 때 사용하는 함수
    function setValue(value) {
      btnCalc.value = value;
      btnReset.value = value;
      outAdd.value = value;
      outSub.value = value;
      outMul.value = value;
      outDiv.value = value;
    }

    // =========================
    // TODO 2) 계산 버튼 이벤트 처리
    // - a,b를 Number로 변환
    // - 숫자 아니면 ERROR 처리
    // - b==0이면 div만 DIV/0
    // =========================
    function handleCalculate() {
      // 입력값을 Number로 변환
      const numA = Number(a.value);
      const numB = Number(b.value);

      // 입력값이 숫자가 아닐 경우, "ERROR" 처리
      if (!Number.isFinite(numA) && !Number.isFinite(numB)) {
        setValue("ERROR");
      }

      // 입력값 b가 0일 경우, div 연산에서만 "DIV/0" 처리
      // 0이 아닐 경우는 그대로 계산하여 출력
      if (numB == 0) {
        outDiv.value = "DIV/0";
      } else {
        outDiv.value = numA / numB;
      }

      // 계산 결과
      outAdd.value = numA + numB;
      outSub.value = numA - numB;
      outMul.value = numA * numB;
      outDiv.value = numA / numB;
    }

    // =========================
    // TODO 3) 리셋 버튼 이벤트 처리
    // - 입력 2개 + 결과 4개 전부 "" 로
    // =========================
    function handleReset() {
      a.value = "";
      b.value = "";
      setValue("");
    }

    // =========================
    // TODO 4) 버튼에 이벤트 연결
    // =========================
    btnCalc.addEventListener("click", handleCalculate);
    btnReset.addEventListener("click", handleReset);
  </script>
</body>
</html>