<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>로또 번호 맞추기 - 실습</title>
    <style>
        body { font-family: Arial; max-width: 600px; margin: 20px auto; padding: 20px; }
        h1 { text-align: center; }

        .grid { display: grid; grid-template-columns: repeat(5, 50px) 80px; gap: 5px; margin: 20px 0; }
        .grid input { width: 50px; height: 40px; text-align: center; font-size: 16px; }
        .grid .count { line-height: 40px; text-align: center; font-weight: bold; }

        .match { background: #ffeb3b; color: #d32f2f; font-weight: bold; }

        button { display: block; margin: 20px auto; padding: 15px 30px; font-size: 18px;
                 background: #4a90d9; color: white; border: none; border-radius: 5px; cursor: pointer; }
        button:hover { background: #357abd; }

        .result { text-align: center; margin: 20px 0; padding: 15px; background: #f5f5f5; border-radius: 5px; }
        .result .numbers { font-size: 24px; font-weight: bold; color: #d32f2f; }
        .row-label { line-height: 40px; font-weight: bold; }
    </style>
</head>
<body>
    <h1>로또 번호 맞추기</h1>

    <!-- 5x5 입력 그리드가 생성될 영역 -->
    <div id="grid"></div>

    <!-- 버튼 클릭 시 generateLotto() 함수 호출 -->
    <button onclick="generateLotto()">로또 번호 생성</button>

    <!-- 당첨 번호 결과 표시 영역 (초기에는 숨김) -->
    <div class="result" id="result" style="display: none;">
        <p>당첨 번호</p>
        <p class="numbers" id="lottoNumbers"></p>
    </div>

    <script>
        // ============================================================
        // 로또 번호 맞추기 프로그램 - 실습
        // ============================================================
        //
        // [프로그램 구조]
        //
        //   ┌─────────────────────────────────────────────────┐
        //   │  1행  [__] [__] [__] [__] [__]  │ 맞춘개수      │
        //   │  2행  [__] [__] [__] [__] [__]  │ 맞춘개수      │
        //   │  3행  [__] [__] [__] [__] [__]  │ 맞춘개수      │
        //   │  4행  [__] [__] [__] [__] [__]  │ 맞춘개수      │
        //   │  5행  [__] [__] [__] [__] [__]  │ 맞춘개수      │
        //   ├─────────────────────────────────────────────────┤
        //   │           [ 로또 번호 생성 버튼 ]                │
        //   ├─────────────────────────────────────────────────┤
        //   │  당첨 번호: 3, 12, 18, 25, 37, 42               │
        //   └─────────────────────────────────────────────────┘
        //
        // [프로그램 흐름]
        //
        //   1. 페이지 로드
        //         ↓
        //   2. createGrid() 호출 → 5x5 입력 그리드 생성
        //         ↓
        //   3. 사용자가 각 칸에 1-45 사이의 숫자 입력
        //         ↓
        //   4. "로또 번호 생성" 버튼 클릭 → generateLotto() 호출
        //         ↓
        //   5. 로또 번호 6개 생성 (1-45 중 중복 없이)
        //         ↓
        //   6. 각 행별로 입력값과 로또 번호 비교
        //         ↓
        //   7. 일치하면 노란색 하이라이트 + 개수 카운트
        //
        // ============================================================


        // ------------------------------------------------------------
        // 상수 정의
        // ------------------------------------------------------------
        const ROWS = 5;  // 행 개수
        const COLS = 5;  // 열 개수
        const grid = document.getElementById('grid');  // 그리드 컨테이너


        // ============================================================
        // 함수 1: createGrid() - 5x5 입력 그리드 생성
        // ============================================================
        //
        // [기능]
        // - 5개의 행을 생성
        // - 각 행에: 행 라벨(1행, 2행...) + 입력필드 5개 + 맞춘개수 표시
        //
        // [사용할 메서드]
        // - document.createElement('태그명') : 요소 생성
        // - element.className = '클래스명' : 클래스 설정
        // - element.textContent = '텍스트' : 텍스트 설정
        // - element.id = 'id값' : id 설정
        // - parent.appendChild(child) : 자식 요소 추가
        //
        // ============================================================
        function createGrid() {

            // [Step 1] 행(row) 반복: 0부터 4까지 (총 5행)
            for (let row = 0; row < ROWS; row++) {

                // ─────────────────────────────────
                // [Step 2] 행 라벨 생성 ("1행", "2행"...)
                // ─────────────────────────────────
                const label = document.createElement('div');
                label.className = 'row-label';
                label.textContent = `${row + 1}행`;
                grid.appendChild(label);


                // ─────────────────────────────────
                // [Step 3] 입력 필드 5개 생성
                // ─────────────────────────────────
                for (let col = 0; col < COLS; col++) {
                    const input = document.createElement('input');
                    input.type = 'number';
                    input.min = 1;
                    input.max = 45;
                    input.id = `cell-${row}-${col}`;
                    grid.appendChild(input);
                }

                // ─────────────────────────────────
                // [Step 4] 맞춘 개수 표시 영역 생성
                // ─────────────────────────────────
                const count = document.createElement('div');
                count.className = 'count';
                count.id = `count-${row}`;
                count.textContent = '-';
                grid.appendChild(count);

            }
        }


        // ============================================================
        // 함수 2: generateLotto() - 로또 번호 생성 및 비교
        // ============================================================
        //
        // [기능]
        // - 1-45 중 중복 없이 6개의 로또 번호 생성
        // - 각 행의 입력값과 로또 번호 비교
        // - 일치하는 숫자에 하이라이트 적용
        // - 각 행별 맞춘 개수 표시
        //
        // [사용할 메서드]
        // - Math.random() : 0~1 사이 난수
        // - Math.floor() : 소수점 버림
        // - array.includes(value) : 배열에 값 포함 여부
        // - array.push(value) : 배열에 값 추가
        // - array.sort((a,b) => a-b) : 오름차순 정렬
        // - array.join(', ') : 배열을 문자열로 연결
        // - element.classList.add/remove('클래스') : 클래스 추가/제거
        // - parseInt(문자열) : 문자열을 정수로 변환
        //
        // ============================================================
        function generateLotto() {

            // ─────────────────────────────────
            // [Step 1] 이전 결과 초기화
            // ─────────────────────────────────
            // 모든 input 요소에서 'match' 클래스를 제거하여
            // 이전에 하이라이트된 셀을 원래대로 되돌림
            document.querySelectorAll('input').forEach(input => {
                input.classList.remove('match');
            });


            // ─────────────────────────────────
            // [Step 2] 로또 번호 생성 (1-45 중 6개, 중복 없이)
            // ─────────────────────────────────
            const lottoNumbers = [];

            while (lottoNumbers.length < 6) {
                const num = Math.floor(Math.random() * 45) + 1;
                if (!lottoNumbers.includes(num)) {
                    lottoNumbers.push(num);
                }
            }

            lottoNumbers.sort((a, b) => a - b);


            // ─────────────────────────────────
            // [Step 3] 당첨 번호 화면에 표시
            // ─────────────────────────────────
            document.getElementById('result').style.display = 'block';
            document.getElementById('lottoNumbers').textContent = lottoNumbers.join(', ');


            // ─────────────────────────────────
            // [Step 4] 각 행별로 입력값과 로또 번호 비교
            // ─────────────────────────────────
            for (let row = 0; row < ROWS; row++) {

                let matchCount = 0;        // 이 행에서 맞춘 개수
                const rowNumbers = [];     // 이 행의 숫자들 (중복 체크용)

                // 각 열(col) 순회
                for (let col = 0; col < COLS; col++) {

                    const input = document.getElementById(`cell-${row}-${col}`);
                    const value = parseInt(input.value);


                    // ─────────────────────────────────
                    // [Step 5] 유효성 검사 (1-45 사이인 경우만 처리)
                    // ─────────────────────────────────
                    if (value >= 1 && value <= 45) {

                        // 행 내 중복 체크
                        if (rowNumbers.includes(value)) {
                            alert(`${row + 1}행에 중복된 숫자(${value})가 있습니다!`);
                            return;
                        }

                        rowNumbers.push(value);


                        // ─────────────────────────────────
                        // [Step 6] 로또 번호와 일치 여부 확인
                        // ─────────────────────────────────
                        if (lottoNumbers.includes(value)) {
                            input.classList.add('match');
                            matchCount++;
                        }

                    }
                }

                // ─────────────────────────────────
                // [Step 7] 맞춘 개수 표시
                // ─────────────────────────────────
                document.getElementById(`count-${row}`).textContent = `${matchCount}개`;

            }
        }


        // ============================================================
        // 프로그램 시작: 페이지 로드 시 그리드 생성
        // ============================================================
        createGrid();

    </script>
</body>
</html>
